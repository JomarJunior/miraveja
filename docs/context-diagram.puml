@startuml "MiraVeja - Context Diagram"
!theme plain

title MiraVeja - Bounded Contexts (DDD)

' Bounded Contexts
rectangle "Acquisition Context" as acquisition #e3f2fd {
    note bottom of acquisition
      Domain: Image fetching and downloading
      Responsibilities:
      - External provider integration
      - Image metadata extraction
      - Download orchestration
    end note
}

rectangle "Processing Context" as processing #e8f5e8 {
    note bottom of processing
      Domain: ML/AI processing
      Responsibilities:
      - Image and text embeddings
      - Latent space operations
      - CLIP model integration
    end note
}

rectangle "Retrieval Context" as retrieval #ffebee {
    note bottom of retrieval
      Domain: Search and discovery
      Responsibilities:
      - Semantic search
      - Content retrieval
      - Query processing
    end note
}

rectangle "Storage Context" as storage #fff8e1 {
    note bottom of storage
      Domain: Persistence
      Responsibilities:
      - Image content storage
      - Metadata persistence
      - Embedding vectors
    end note
}

' Core system
circle "MiraVeja\nCore" as miraveja #9c27b0

' Context relationships
miraveja <--> acquisition : "Images fetch\nand download"
miraveja <--> processing : "Image and Text Embeddings\nin Latent Space"
miraveja <--> retrieval : "Retrieve and search\nfor images"
miraveja <--> storage : "Store image content\nand metadata"

' Inter-context communication
acquisition ..> storage : "Saves downloaded images"
processing ..> storage : "Stores embeddings"
retrieval ..> storage : "Fetches metadata and content"
processing ..> acquisition : "Processes downloaded content"

@enduml